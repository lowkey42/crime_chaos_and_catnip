[gd_scene load_steps=20 format=3 uid="uid://cik30de5gaaah"]

[ext_resource type="Script" uid="uid://dmeymco117qmu" path="res://scenes/ingame_scene.gd" id="1_objyc"]
[ext_resource type="PackedScene" uid="uid://bkk87o2ooo6at" path="res://ui/overlays/fade_overlay.tscn" id="1_y6ebv"]
[ext_resource type="PackedScene" uid="uid://jyv4g54adkmo" path="res://ui/overlays/pause_overlay.tscn" id="3_8o178"]
[ext_resource type="PackedScene" uid="uid://bhmi15nw6utp5" path="res://scenes/level/level_01.tscn" id="6_5jhce"]
[ext_resource type="Resource" uid="uid://bl5r6qrxgsgo3" path="res://gameplay/cards/instances/card_move_10.tres" id="6_iid22"]
[ext_resource type="Texture2D" uid="uid://bd6qkpqrdsj1p" path="res://icon.svg" id="6_ilpo5"]
[ext_resource type="Script" uid="uid://o5q4p0foouv3" path="res://gameplay/Gameplay.cs" id="6_juwkt"]
[ext_resource type="PackedScene" uid="uid://c8fvd606ep5u" path="res://ui/held_card.tscn" id="6_vus8m"]
[ext_resource type="Script" uid="uid://bt7r7nusxbpsv" path="res://gameplay/DeckEntry.cs" id="7_2vs8u"]
[ext_resource type="Script" uid="uid://bp64cwdqrlygr" path="res://gameplay/Deck.cs" id="7_ilpo5"]
[ext_resource type="Resource" uid="uid://cxk2dmo6atpcu" path="res://gameplay/cards/instances/card_summon_cat.tres" id="8_juwkt"]
[ext_resource type="Script" uid="uid://cidnfcxxq2ctp" path="res://gameplay/PlayerHand.cs" id="10_etwux"]
[ext_resource type="Script" uid="uid://blo6ehy0rkpy5" path="res://gameplay/cards/CardDrawButton.cs" id="12_2vs8u"]
[ext_resource type="PackedScene" uid="uid://b4ufa4onh1vrb" path="res://camera/cameras.tscn" id="14_ilpo5"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ilpo5"]
size = Vector2(889, 178)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pxehq"]
size = Vector2(154, 185.5)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_ilpo5"]
size = Vector2(20, 20)

[sub_resource type="Resource" id="Resource_juwkt"]
script = ExtResource("7_2vs8u")
Card = ExtResource("6_iid22")
Count = 10
metadata/_custom_type_script = "uid://bt7r7nusxbpsv"

[sub_resource type="Resource" id="Resource_ilpo5"]
script = ExtResource("7_2vs8u")
Card = ExtResource("8_juwkt")
Count = 10
metadata/_custom_type_script = "uid://bt7r7nusxbpsv"

[node name="IngameScene" type="Node2D"]
script = ExtResource("1_objyc")

[node name="UI" type="CanvasLayer" parent="."]

[node name="FadeOverlay" parent="UI" instance=ExtResource("1_y6ebv")]
unique_name_in_owner = true
visible = false

[node name="PauseOverlay" parent="UI" instance=ExtResource("3_8o178")]
unique_name_in_owner = true
process_mode = 2
visible = false

[node name="Gameplay" type="Node" parent="." node_paths=PackedStringArray("_deck", "_hand", "_board") groups=["Gameplay"]]
script = ExtResource("6_juwkt")
_deck = NodePath("Deck")
_hand = NodePath("CardOverlay/PlayerHand")
_board = NodePath("Level01/Board")

[node name="CardOverlay" type="CanvasLayer" parent="Gameplay"]

[node name="PlayerHand" type="Node2D" parent="Gameplay/CardOverlay" node_paths=PackedStringArray("_deck")]
position = Vector2(627, 848)
script = ExtResource("10_etwux")
HandRadius = 300
MaxCardSpreadAngle = 10.0
_deck = NodePath("../../Deck")

[node name="Sprite2D" type="Sprite2D" parent="Gameplay/CardOverlay/PlayerHand"]
position = Vector2(0, 66)
texture = ExtResource("6_ilpo5")

[node name="DropPossibleArea" type="Area2D" parent="Gameplay/CardOverlay/PlayerHand"]
position = Vector2(-51, -23)

[node name="CantDropArea" type="CollisionShape2D" parent="Gameplay/CardOverlay/PlayerHand/DropPossibleArea"]
position = Vector2(57.5, -205)
shape = SubResource("RectangleShape2D_ilpo5")

[node name="DiscardZoneArea" type="CollisionShape2D" parent="Gameplay/CardOverlay/PlayerHand/DropPossibleArea" groups=["discardArea"]]
position = Vector2(595, -206.25)
shape = SubResource("RectangleShape2D_pxehq")

[node name="Sprite2D" type="Sprite2D" parent="Gameplay/CardOverlay/PlayerHand/DropPossibleArea/DiscardZoneArea"]
position = Vector2(-1.00004, -2.25001)
scale = Vector2(7.8, 9.65)
texture = SubResource("PlaceholderTexture2D_ilpo5")

[node name="Deck" type="Node2D" parent="Gameplay"]
position = Vector2(120, 640)
script = ExtResource("7_ilpo5")
_cards = [SubResource("Resource_juwkt"), SubResource("Resource_ilpo5")]
_heldCardScene = ExtResource("6_vus8m")

[node name="Level01" parent="Gameplay" instance=ExtResource("6_5jhce")]

[node name="Control" type="Control" parent="." node_paths=PackedStringArray("_gameplay", "_playerHand")]
layout_mode = 3
anchors_preset = 0
offset_left = 51.0
offset_top = 44.0
offset_right = 324.0
offset_bottom = 141.0
script = ExtResource("12_2vs8u")
_gameplay = NodePath("../Gameplay")
_playerHand = NodePath("../Gameplay/CardOverlay/PlayerHand")

[node name="Button" type="Button" parent="Control"]
layout_mode = 0
offset_right = 270.0
offset_bottom = 91.0
text = "Draw Cards"

[node name="Cameras" parent="Control" instance=ExtResource("14_ilpo5")]

[connection signal="pressed" from="Control/Button" to="Control" method="Pressed"]

[editable path="Gameplay/Level01"]
